(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,s){e.exports=s(27)},23:function(e,t,s){},24:function(e,t,s){},27:function(e,t,s){"use strict";s.r(t);var a=s(1),l=s.n(a),i=s(13),r=s.n(i),n=(s(23),s(29)),o=s(30),_=s(31),h=s(32),m=s(33),c=(s(24),"/home/fiord/Documents/tsg-auto-chess/visualizer/client/src/App.js");var u=class extends l.a.Component{constructor(e){super(e),this.fetchData=this.fetchData.bind(this),this.onChangeSelect=this.onChangeSelect.bind(this),this.updateField=this.updateField.bind(this);let t=new Array(15);for(let s=0;s<15;s++)t[s]=new Array(15).fill(null);this.state={filename:"",filelist:[],data:null,turn:0,name:["",""],result:["",""],left_time:["",""],hp:["",""],level:["",""],gold:["",""],default_field:JSON.stringify(t),field:JSON.parse(JSON.stringify(t)),shop:[[],[]],warehouse:[[],[]],timer:null}}fetchData(){return console.log("OK"),fetch("/_api/").then(e=>e.json()).then(e=>{console.log(e),this.setState({filelist:e})})}onChangeSelect(e){this.state.filename!==e.target.value&&""!==e.target.value&&fetch("/_api/".concat(e.target.value)).then(e=>e.json()).then(e=>{console.log(e),this.setState({data:e.field,name:e.names,result:e.result,turn:0});let t=setInterval(this.updateField,500);this.setState({timer:t})}),this.setState({filename:e.target.value})}updateField(){console.log(this.state);let e=this.state.turn,t=JSON.parse(this.state.default_field),s=[[],[]];for(let a=0;a<2;a++)for(let l=0;l<this.state.data[e].units[a].length;l++)-1==this.state.data[e].units[a][l].x?s[a].push(this.state.data[e].units[a][l]):t[this.state.data[e].units[a][l].y][this.state.data[e].units[a][l].x]=this.state.data[e].units[a][l];if(console.log(e+1),this.setState({turn:e+1}),console.log([this.state.data[e].units[0][0].hp,this.state.data[e].units[1][0].hp]),this.setState({hp:[this.state.data[e].units[0][0].hp,this.state.data[e].units[1][0].hp]}),console.log(this.state.data[e].left_times),this.setState({left_time:this.state.data[e].left_times}),console.log(this.state.data[e].levels),this.setState({level:this.state.data[e].levels}),console.log(this.state.data[e].golds),this.setState({gold:this.state.data[e].golds}),console.log(this.state.data[e].shops),this.setState({shop:this.state.data[e].shops}),console.log(t),this.setState({field:t}),console.log(s),this.setState({warehouse:s}),console.log("turn=".concat(e)),console.log(this.state),e+1===this.state.data.length){let e=this.state.timer;clearInterval(e),this.setState({timer:e})}}componentDidMount(){this.fetchData()}render(){return l.a.createElement(n.a,{__source:{fileName:c,lineNumber:112},__self:this},l.a.createElement(o.a,{__source:{fileName:c,lineNumber:113},__self:this},l.a.createElement(_.a,{__source:{fileName:c,lineNumber:114},__self:this},l.a.createElement(h.a,{for:"filenames",__source:{fileName:c,lineNumber:115},__self:this},"filename:"),l.a.createElement(m.a,{type:"select",name:"select",id:"filenames",onChange:this.onChangeSelect,value:this.state.filename,__source:{fileName:c,lineNumber:116},__self:this},l.a.createElement("option",{key:"no file",__source:{fileName:c,lineNumber:117},__self:this}),this.state.filelist.map(e=>l.a.createElement("option",{key:e,__source:{fileName:c,lineNumber:119},__self:this},e))))),l.a.createElement("p",{__source:{fileName:c,lineNumber:124},__self:this},"Turn: ",this.state.turn),l.a.createElement("div",{__source:{fileName:c,lineNumber:125},__self:this},l.a.createElement("font",{color:"red",__source:{fileName:c,lineNumber:126},__self:this},"Died:",this.state.result[0]," Name:",this.state.name[0]," \u6b8b\u308a\u6642\u9593:",Math.floor(this.state.left_time[0])," King'sHP:",this.state.hp[0]," Level:",this.state.level[0]," Gold:",this.state.gold[0]),l.a.createElement("ul",{key:"shop-player_a",__source:{fileName:c,lineNumber:127},__self:this},this.state.shop[0].map((e,t)=>l.a.createElement("li",{key:"shop-player_a-"+t,style:{border:"solid"},__source:{fileName:c,lineNumber:128},__self:this},l.a.createElement("center",{__source:{fileName:c,lineNumber:129},__self:this},l.a.createElement("div",{class:"circle",style:{borderRadius:"50%",height:"50px",width:"50px",backgroundColor:"WARRIOR"===e.type?"cyan":"MAGE"===e.type?"yellow":"magenta",border:"solid red"},__source:{fileName:c,lineNumber:130},__self:this},e.hp,"/",e.atk),l.a.createElement("p",{style:{margin:0},__source:{fileName:c,lineNumber:133},__self:this},e.type),l.a.createElement("p",{style:{margin:0},__source:{fileName:c,lineNumber:134},__self:this},"$ ",e.val))))),l.a.createElement("ul",{key:"ware-player_a",__source:{fileName:c,lineNumber:138},__self:this},this.state.warehouse[0].map((e,t)=>l.a.createElement("li",{key:"ware-player_a-"+t,style:{border:"solid"},__source:{fileName:c,lineNumber:139},__self:this},l.a.createElement("center",{__source:{fileName:c,lineNumber:140},__self:this},l.a.createElement("div",{class:"circle",style:{borderRadius:"50%",height:"50px",width:"50px",backgroundColor:"WARRIOR"===e.type?"cyan":"MAGE"===e.type?"yellow":"magenta",border:"solid red"},__source:{fileName:c,lineNumber:141},__self:this},e.hp,"/",e.atk),l.a.createElement("p",{style:{margin:0},__source:{fileName:c,lineNumber:144},__self:this},e.type)))))),l.a.createElement("div",{__source:{fileName:c,lineNumber:149},__self:this},l.a.createElement("table",{__source:{fileName:c,lineNumber:150},__self:this},l.a.createElement("tbody",{__source:{fileName:c,lineNumber:151},__self:this},[...Array(15).keys()].map(e=>l.a.createElement("tr",{key:"fieldrow_"+e,__source:{fileName:c,lineNumber:154},__self:this},[...Array(15).keys()].map(t=>null===this.state.field[e][t]?l.a.createElement("td",{key:"field_"+e+"-"+t,__source:{fileName:c,lineNumber:157},__self:this},l.a.createElement("div",{__source:{fileName:c,lineNumber:157},__self:this})):l.a.createElement("td",{key:"field_"+e+"-"+t,__source:{fileName:c,lineNumber:160},__self:this},l.a.createElement("div",{class:"circle",style:{borderRadius:"50%",height:"50px",width:"50px",backgroundColor:"WARRIOR"===this.state.field[e][t].type?"cyan":"MAGE"===this.state.field[e][t].type?"yellow":"ASSASSIN"===this.state.field[e][t].type?"magenta":"gold",border:0==this.state.field[e][t].team?"solid red":"solid blue"},__source:{fileName:c,lineNumber:161},__self:this},this.state.field[e][t].hp,"/",this.state.field[e][t].atk)))))))),l.a.createElement("div",{__source:{fileName:c,lineNumber:172},__self:this},l.a.createElement("font",{color:"blue",__source:{fileName:c,lineNumber:173},__self:this},"Died:",this.state.result[1]," Name:",this.state.name[1]," \u6b8b\u308a\u6642\u9593:",Math.floor(this.state.left_time[1])," King'sHP:",this.state.hp[1]," Level:",this.state.level[1]," Gold:",this.state.gold[1]),l.a.createElement("ul",{key:"ul-player_b",__source:{fileName:c,lineNumber:174},__self:this},this.state.shop[1].map((e,t)=>l.a.createElement("li",{key:"shopplayer_b"+t,style:{border:"solid"},__source:{fileName:c,lineNumber:176},__self:this},l.a.createElement("center",{__source:{fileName:c,lineNumber:177},__self:this},l.a.createElement("div",{class:"circle",style:{borderRadius:"50%",height:"50px",width:"50px",backgroundColor:"WARRIOR"===e.type?"cyan":"MAGE"===e.type?"yellow":"magenta",border:"solid blue"},__source:{fileName:c,lineNumber:178},__self:this},e.hp,"/",e.atk),l.a.createElement("p",{style:{margin:0},__source:{fileName:c,lineNumber:181},__self:this},e.type),l.a.createElement("p",{style:{margin:0},__source:{fileName:c,lineNumber:182},__self:this},"$ ",e.val))))),l.a.createElement("ul",{key:"ware-player_b",__source:{fileName:c,lineNumber:187},__self:this},this.state.warehouse[1].map((e,t)=>l.a.createElement("li",{key:"ware-player_b-"+t,style:{border:"solid"},__source:{fileName:c,lineNumber:188},__self:this},l.a.createElement("center",{__source:{fileName:c,lineNumber:189},__self:this},l.a.createElement("div",{class:"circle",style:{borderRadius:"50%",height:"50px",width:"50px",backgroundColor:"WARRIOR"===e.type?"cyan":"MAGE"===e.type?"yellow":"magenta",border:"solid blue"},__source:{fileName:c,lineNumber:190},__self:this},e.hp,"/",e.atk),l.a.createElement("p",{style:{margin:0},__source:{fileName:c,lineNumber:193},__self:this},e.type)))))))}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(u,{__source:{fileName:"/home/fiord/Documents/tsg-auto-chess/visualizer/client/src/index.js",lineNumber:7},__self:void 0}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[16,1,2]]]);
//# sourceMappingURL=main.1630abe0.chunk.js.map